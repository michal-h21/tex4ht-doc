\Preamble{xhtml,html5,mathml,2,sec-filename,info,fn-in,fonts}
\special{t4ht+@File: style.css}
\Configure{@HEAD}{\HCode{<link rel="stylesheet" type="text/css" href="style.css" />}}

% ToDo: implement minitoc as in this answer: https://tex.stackexchange.com/a/361886/2891
\TocAt{chapter,section,subsection}

\Configure{texttt}{\HCode{<code>}\NoFonts}{\EndNoFonts\HCode{</code>}}
\Configure{verb}{\HCode{<code>}\NoFonts}{\EndNoFonts\HCode{</code>}}
\ConfigureEnv{texsource}{\ifvmode\IgnorePar\fi\EndP\HCode{<figure class="texsource">}}{\ifvmode\IgnorePar\fi\EndP\HCode{</figure>}}{}{}
\ConfigureEnv{shellcommand}{\ifvmode\IgnorePar\fi\EndP\HCode{<figure class="shellcommand">}}{\ifvmode\IgnorePar\fi\EndP\HCode{</figure>}}{}{}
\ConfigureEnv{htmlsource}{\ifvmode\IgnorePar\fi\EndP\HCode{<figure class="htmlsource">}}{\ifvmode\IgnorePar\fi\EndP\HCode{</figure>}}{}{}

\begin{document}
\EndPreamble
