<!DOCTYPE html> 
<html lang='en' xml:lang='en'> 
<head><title>3 How to</title> 
<meta charset='utf-8' /> 
<meta content='TeX4ht (https://tug.org/tex4ht/)' name='generator' /> 
<meta content='width=device-width,initial-scale=1' name='viewport' /> 
<link href='tex4ht-doc.css' rel='stylesheet' type='text/css' /> 
<meta content='tex4ht-doc.tex' name='src' /> 
<link href='style.css' rel='stylesheet' type='text/css' /> 
</head><body>
<nav class='TOC'>   
<span class='chapterToc'>1 <a href='Introduction.html#introduction'>Introduction</a></span>

<span class='chapterToc'>2 <a href='BasicTutorial.html#basic-tutorial'>Basic Tutorial</a></span>











<span class='chapterToc'>3 <a href='#how-to'>How to</a></span>
<span class='sectionToc'>3.1 <a href='#change-design'>Change design</a></span>
<span class='subsectionToc'>3.1.1 <a href='#basics'>Basics</a></span>
<span class='subsectionToc'>3.1.2 <a href='#css'>CSS</a></span>
<span class='subsectionToc'>3.1.3 <a href='#web-fonts'>Web fonts</a></span>
<span class='sectionToc'>3.2 <a href='#math'>Math</a></span>
<span class='subsectionToc'>3.2.1 <a href='#picture-math'>Picture math</a></span>
<span class='subsectionToc'>3.2.2 <a href='#mathjax-latex-mode'>MathJax LaTeX mode</a></span>
<span class='subsectionToc'>3.2.3 <a href='#mathml'>MathML</a></span>
<span class='subsectionToc'>3.2.4 <a href='#subscripts-and-superscripts'>Subscripts and superscripts</a></span>
<span class='subsectionToc'>3.2.5 <a href='#mathjax-node'>MathJax Node</a></span>
<span class='sectionToc'>3.3 <a href='#graphics'>Graphics</a></span>
<span class='subsectionToc'>3.3.1 <a href='#include-graphics-svgpdf'>Include graphics (svg,pdf)</a></span>
<span class='subsectionToc'>3.3.2 <a href='#change-image-size-and-resolution'>Change image size and resolution</a></span>
<span class='subsectionToc'>3.3.3 <a href='#use-relative-size-for-images'>Use relative size for images</a></span>
<span class='subsectionToc'>3.3.4 <a href='#change-images-alternative-text'>Change image’s alternative text</a></span>
<span class='sectionToc'>3.4 <a href='#plain-tex'>Plain TeX</a></span>
<span class='sectionToc'>3.5 <a href='#blogging'>Blogging</a></span>
<span class='sectionToc'>3.6 <a href='#work-with-external-commands'>Work with external commands</a></span>
<span class='subsectionToc'>3.6.1 <a href='#indexing'>Indexing</a></span>
<span class='subsectionToc'>3.6.2 <a href='#bibliographies'>Bibliographies</a></span>
<span class='subsectionToc'>3.6.3 <a href='#r'>R</a></span>
<span class='subsectionToc'>3.6.4 <a href='#markdown'>Markdown</a></span>
<span class='subsectionToc'>3.6.5 <a href='#pythontex'>PythonTeX</a></span>
<span class='chapterToc'>4 <a href='CallingCommands.html#calling-commands'>Calling Commands</a></span>





                                                                  

                                                                  


<span class='chapterToc'>5 <a href='OutputFormats.html#output-formats'>Output Formats</a></span>
<span class='chapterToc'>6 <a href='texfourhtOptions.html#-texht-options1'><code class='texttt'>TeX4ht</code> Options</a></span>


<span class='chapterToc'>7 <a href='Configurations.html#configurations2'>Configurations</a></span>







































                                                                  

                                                                  









<span class='chapterToc'>8 <a href='Make4htBuildFiles.html#makeht-build-files'>Make4ht Build Files</a></span>



<span class='chapterToc'>9 <a href='FAQandTroubleshooting.html#faq-and-troubleshooting'>FAQ and Troubleshooting</a></span>





<span class='chapterToc'>10 <a href='ForDevelopers.html#for-developers'>For Developers</a></span>









<span class='chapterToc'>11 <a href='Glossary.html#glossary'>Glossary</a></span>
<span class='chapterToc'>12 <a href='Bibliography.html#bibliography'>Bibliography</a></span>
<span class='chapterToc'>13 <a href='Index.html#index'>Index</a></span>
<span class='chapterToc'>14 <a href='Changes.html#changes'>Changes</a></span>
 
   
</nav> 
<main class='main-content'> 
<nav class='crosslinks-top'> [<a href='BasicTutorial.html'>prev</a>] [<a href='tex4ht-doc.html#Howto.html'>up</a>] [<a href='CallingCommands.html'>next</a>] </nav> 
<h2 class='chapterHead' id='how-to'><span class='titlemark'>Chapter 3</span><br /><a id='x4-150003'></a>How to</h2>
<h3 class='sectionHead' id='change-design'><span class='titlemark'>3.1   </span> <a id='x4-160003.1'></a>Change design</h3>
<!--  l. 44  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='basics'><span class='titlemark'>3.1.1   </span> <a id='x4-170003.1.1'></a>Basics</h4>
<!--  l. 46  --><p class='noindent'>By default, <code class='texttt'>TeX4ht</code> separates paragraphs by space. If you want to use text indenting
instead, try the <span class='emph'>p-indent</span> option.
                                                                  

                                                                  
</p><!--  l. 48  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='css'><span class='titlemark'>3.1.2   </span> <a id='x4-180003.1.2'></a>CSS</h4>
<!--  l. 49  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='web-fonts'><span class='titlemark'>3.1.3   </span> <a id='x4-190003.1.3'></a>Web fonts</h4>
<!--  l. 51  --><p class='noindent'>It is easy to change fonts in web pages using CSS, but if you want to use actual font
files for the distribution, for example, in an Epub file, <code class='texttt'>TeX4ht</code>provides the following
configurations. This example shows how to use OTF files for the EB Garamond
font.
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb39'><a id='x4-19017r1'></a><span class='textcolor-878787'><span class='textit'>% define font family. The first argument is family name</span></span> 
<a id='x4-19019r2'></a><span class='textcolor-878787'><span class='textit'>% that can be used in CSS font-family rule</span></span> 
<a id='x4-19021r3'></a><span class='textcolor-878787'><span class='textit'>% second argument is the family name declared by the font</span></span> 
<a id='x4-19023r4'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>FontFamily<span class='textcolor-387f38'>}{</span>rmfamily<span class='textcolor-387f38'>}{</span>EB Garamond<span class='textcolor-387f38'>}</span> 
<a id='x4-19025r5'></a><span class='textcolor-878787'><span class='textit'>% declare font filenames for particular font styles.</span></span> 
<a id='x4-19027r6'></a><span class='textcolor-878787'><span class='textit'>% the font files must be placed in the location that is</span></span> 
<a id='x4-19029r7'></a><span class='textcolor-878787'><span class='textit'>% declared.</span></span> 
<a id='x4-19031r8'></a><span class='textcolor-878787'><span class='textit'>% these four font styles are supported</span></span> 
<a id='x4-19033r9'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>NormalFont<span class='textcolor-387f38'>}{</span>EBGaramond-Regular.otf<span class='textcolor-387f38'>}</span> 
<a id='x4-19035r10'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>ItalicFont<span class='textcolor-387f38'>}{</span>EBGaramond-Italic.otf<span class='textcolor-387f38'>}</span> 
<a id='x4-19037r11'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>BoldFont<span class='textcolor-387f38'>}{</span>EBGaramond-Bold.otf<span class='textcolor-387f38'>}</span> 
<a id='x4-19039r12'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>BoldItalicFont<span class='textcolor-387f38'>}{</span>EBGaramond-BoldItalic.otf<span class='textcolor-387f38'>}</span> 
<a id='x4-19041r13'></a><span class='textcolor-878787'><span class='textit'>% use CSS to use the declared font family in the document</span></span> 
<a id='x4-19043r14'></a><span class='textcolor-878787'><span class='textit'>% serif is used as a fallback</span></span> 
<a id='x4-19045r15'></a><span class='textcolor-2838af'>\Css</span><span class='textcolor-387f38'>{</span>body<span class='textcolor-387f38'>{</span>font-family: "rmfamily", serif;<span class='textcolor-387f38'>}}</span></pre>

</figure>
<!--  l. 75  --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='math'><span class='titlemark'>3.2   </span> <a id='x4-200003.2'></a>Math</h3>
<!--  l. 78  --><p class='noindent'><code class='texttt'>TeX4ht</code> supports multiple methods for the math conversion in the HTML output.
Simple formatting and pictures for more complex elements is used by default, but
you can request other methods, which usually produce output that is better looking
and also better for the accessibility.
</p><!--  l. 83  --><p class='indent'>   Note that in other output formats than HTML, which are usually based on XML,
<code class='texttt'>TeX4ht</code> outputs math in MathML.
</p><!--  l. 86  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='picture-math'><span class='titlemark'>3.2.1   </span> <a id='x4-210003.2.1'></a>Picture math</h4>
<!--  l. 89  --><p class='noindent'>By default, pictures are used only for display math. You can pass additional
options to <code class='texttt'>TeX4ht</code> to request pictures also for inline math, equations and other
environments. You can also require the SVG output, to get pictures in a better
quality.
</p><!--  l. 94  --><p class='indent'>   For example, the following command should produce pictures in SVG:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb40'><a id='x4-21003r1'></a>$ make4ht foo.tex <span class='textcolor-b73838'>"pic-m,pic-equation,svg"</span></pre>
                                                                  

                                                                  

</figure>
<!--  l. 100  --><p class='indent'>   See the <a href='texfourhtOptions.html#-texht-options1'><code class='texttt'>TeX4ht</code> Options<!--  tex4ht:ref: chap:options   --></a> chapter for other <span class='emph'>pic-…</span> options.
</p><!--  l. 102  --><p class='indent'>   If you have a large number of math content, the conversion to images can take a
long time. You can use the <span class='obeylines-h'><code class='verb'>dvisvgm_hashes</code></span> extension for <code class='texttt'>make4ht</code> to reuse the
images that were already generated, and to use a parallel conversion:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb41'><a id='x4-21007r1'></a>$ make4ht -f html5+dvisvgm_hashes foo.tex <span class='textcolor-708e30'>\</span> 
<a id='x4-21009r2'></a><span class='textcolor-b73838'>"pic-m,pic-equation,svg"</span></pre>

</figure>
<!--  l. 113  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='mathjax-latex-mode'><span class='titlemark'>3.2.2   </span> <a id='x4-220003.2.2'></a>MathJax LaTeX mode</h4>
<!--  l. 1  --><p class='noindent'>You can also pass math to the HTML output and rely on the <a href='https://www.mathjax.org/'>MathJax library</a> for the
rendering. MathJax is widely used for this purpose and generaly produces great
results from the accessibility and rendering views.
</p><!--  l. 6  --><p class='indent'>   To require the MathJax output, use the <span class='emph'>mathjax</span> option:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb42'><a id='x4-22003r1'></a>$ make4ht foo.tex <span class='textcolor-b73838'>"mathjax"</span></pre>

</figure>
<!--  l. 13  --><p class='indent'>   There are some limitations in MathJax though:
</p>     
<ul class='itemize1'>
<li class='itemize'>If you use custom commands, you need to configure MathJax to recognize
them.
</li>
<li class='itemize'>Cross-references  to  equations  should  work,  but  other  numbered  math
environments don’t work out of the box. You can try the Lua scripts
proposed in <a href='https://tex.stackexchange.com/a/597913/2891'>this post on TeX.sx</a> as a workaround.</li></ul>
<!--  l. 24  --><p class='indent'>   The additional configuration for <span class='emph'>MathJax</span> can be provided in the <code class='texttt'>MathJaxConfig</code>
configuration.
</p><!--  l. 27  --><p class='indent'>   The following example provides support for custom LaTeX macros.
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb43'><a id='x4-22019r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-22021r2'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>MathJaxConfig<span class='textcolor-387f38'>}{{</span> 
<a id='x4-22023r3'></a>    tex: <span class='textcolor-387f38'>{</span> 
<a id='x4-22025r4'></a>      tags: "ams", 
<a id='x4-22027r5'></a>      <span class='textcolor-2838af'>\detokenize</span><span class='textcolor-387f38'>{</span><span class='textcolor-878787'><span class='textit'>%</span></span> 
<a id='x4-22029r6'></a>      macros: <span class='textcolor-387f38'>{</span> 
<a id='x4-22031r7'></a>        sc: "<span class='textcolor-2838af'>\\</span>small<span class='textcolor-2838af'>\\</span>rm", 
<a id='x4-22033r8'></a>        sl: "<span class='textcolor-2838af'>\\</span>it", 
<a id='x4-22035r9'></a>      <span class='textcolor-387f38'>}</span> 
<a id='x4-22037r10'></a>  <span class='textcolor-387f38'>}</span> 
<a id='x4-22039r11'></a><span class='textcolor-387f38'>}</span> 
<a id='x4-22041r12'></a><span class='textcolor-387f38'>}}</span> 
<a id='x4-22043r13'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-22045r14'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>
                                                                  

                                                                  

</figure>
<!--  l. 47  --><p class='indent'>   The configuration needs to be passed as a JavaScript object, this means that you
need to use extra <span class='obeylines-h'><code class='verb'>{}</code></span> brackets. The <code class='texttt'>\detokenize</code> macro is used to avoid possible
issues with catcodes in the configuration. Backslashes must be doubled in the
JavaScript strings, so they need to be written twice for all custom macros. Contents
of this configuration is already enclosed in the <code class='texttt'>\HCode</code> command, so you cannot use
this command in the configuration.
</p><!--  l. 55  --><p class='indent'>   If you want to define macros with parameters, you may run to issues with the #
character, used for parameters. You need to change the catcode of this character to
letter before the <code class='texttt'>MathJaxConfig</code> configuration:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb44'><a id='x4-22067r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-22069r2'></a><span class='textcolor-878787'><span class='textit'>% change catcode of # to letter</span></span> 
<a id='x4-22071r3'></a><span class='textcolor-878787'><span class='textit'>% in order to support #1 in custom</span></span> 
<a id='x4-22073r4'></a><span class='textcolor-878787'><span class='textit'>% MathJax macros</span></span> 
<a id='x4-22075r5'></a><span class='textcolor-2838af'>\catcode</span>`<span class='textcolor-2838af'>\#</span>=11 
<a id='x4-22077r6'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>MathJaxConfig<span class='textcolor-387f38'>}{{</span> 
<a id='x4-22079r7'></a>    tex: <span class='textcolor-387f38'>{</span> 
<a id='x4-22081r8'></a>      <span class='textcolor-2838af'>\detokenize</span><span class='textcolor-387f38'>{</span><span class='textcolor-878787'><span class='textit'>%</span></span> 
<a id='x4-22083r9'></a>      macros: <span class='textcolor-387f38'>{</span> 
<a id='x4-22085r10'></a>        <span class='textcolor-878787'><span class='textit'>% our sample macro takes a parameter</span></span> 
<a id='x4-22087r11'></a>        hello: ["<span class='textcolor-2838af'>\\</span>sqrt<span class='textcolor-387f38'>{</span>#1<span class='textcolor-387f38'>}</span>",1], 
<a id='x4-22089r12'></a>      <span class='textcolor-387f38'>}</span> 
<a id='x4-22091r13'></a>  <span class='textcolor-387f38'>}</span> 
<a id='x4-22093r14'></a><span class='textcolor-387f38'>}</span> 
<a id='x4-22095r15'></a><span class='textcolor-387f38'>}}</span> 
<a id='x4-22097r16'></a><span class='textcolor-878787'><span class='textit'>% don't forget to change the catcode</span></span> 
<a id='x4-22099r17'></a><span class='textcolor-878787'><span class='textit'>% back to the original value</span></span> 
<a id='x4-22101r18'></a><span class='textcolor-2838af'>\catcode</span>`<span class='textcolor-2838af'>\#</span>=6 
<a id='x4-22103r19'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-22105r20'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>

</figure>
<!--  l. 81  --><p class='indent'>   Note that number of opening and closing brackets is important, they need to be
balanced. For example, if you use <span class='obeylines-h'><code class='verb'>\left\\{</code></span>, you need to add special closing bracket
for <span class='obeylines-h'><code class='verb'>\\{</code></span>. The problem is that this closing bracket can cause syntax error in the
generated JavaScript, as the opening bracket was contents of the string. You can fix
that by enclosing the closing bracket in JavaScript comment string (<span class='obeylines-h'><code class='verb'>/* } */</code></span>. In this
way, LaTeX will see the correct number of brackets, but JavaScript will ignore the
extra ones:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb45'><a id='x4-22119r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-22121r2'></a><span class='textcolor-2838af'>\catcode</span>`<span class='textcolor-2838af'>\#</span>=11 
<a id='x4-22123r3'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>MathJaxConfig<span class='textcolor-387f38'>}{{</span> 
<a id='x4-22125r4'></a>    tex: <span class='textcolor-387f38'>{</span> 
<a id='x4-22127r5'></a>      macros: <span class='textcolor-387f38'>{</span> 
<a id='x4-22129r6'></a>      leftbracket: ["<span class='textcolor-2838af'>\\</span>left<span class='textcolor-2838af'>\\</span><span class='textcolor-387f38'>{</span>#1<span class='textcolor-2838af'>\\</span>right.",1], /*<span class='textcolor-387f38'>}</span> */ 
<a id='x4-22131r7'></a>    <span class='textcolor-387f38'>}</span> 
<a id='x4-22133r8'></a>  <span class='textcolor-387f38'>}</span> 
<a id='x4-22135r9'></a><span class='textcolor-387f38'>}}</span> 
<a id='x4-22137r10'></a><span class='textcolor-2838af'>\catcode</span>`<span class='textcolor-2838af'>\#</span>=6 
<a id='x4-22139r11'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-22141r12'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>

</figure>
<!--  l. 103  --><p class='noindent'><span class='paragraphHead' id='loading-latex-command-definitions-from-a-file'><a id='x4-23000'></a><span class='ec-lmbx-10'>Loading LaTeX command definitions from a file.</span></span>
MathJax has basic support for macro definition using the <span class='obeylines-h'><code class='verb'>\newcommand</code></span> command.
You can put these definitions inside a math environment in the HTML page, and
MathJax should be able to recognize these commands subsequently. You can use the
<span class='textbf'><code class='texttt'>\Configure</code></span>{<span class='textit'>@BODY</span>} command to put it at the beginning of the document, but we
provide an easier solution, <span class='textbf'><code class='texttt'>\Configure</code></span>{<span class='textit'>MathJaxMacros</span>}. This command expects
path to a file with macro definitions for MathJax. The file needs to contain only
definitions using <span class='textbf'><code class='texttt'>\newcommand</code></span>, <span class='textbf'><code class='texttt'>\def</code></span>, <span class='textbf'><code class='texttt'>\newenvironment</code></span> and few others. It cannot
contain other commands, so for example inclusion of <code class='texttt'>.sty</code> files will probably not
work.
</p><!--  l. 115  --><p class='indent'>   Here is an example that reuses definitions in both PDF and MathJax
modes:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb46'><a id='x4-23009r1'></a><span class='textcolor-2838af'>\documentclass</span><span class='textcolor-387f38'>{</span>amsart<span class='textcolor-387f38'>}</span> 
<a id='x4-23011r2'></a><span class='textcolor-2838af'>\input</span><span class='textcolor-387f38'>{</span>mymacros<span class='textcolor-387f38'>}</span> 
<a id='x4-23013r3'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-23015r4'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>align*<span class='textcolor-387f38'>}</span> 
<a id='x4-23017r5'></a> p<span class='textcolor-387f38'>_{</span>i-1<span class='textcolor-387f38'>} </span><span class='textcolor-387f38'>&amp;</span>= -(p<span class='textcolor-387f38'>_{</span>i<span class='textcolor-387f38'>}</span>)' - <span class='textcolor-2838af'>\theta</span> p<span class='textcolor-387f38'>_</span>i  <span class='textcolor-2838af'>\myspace </span><span class='textcolor-2838af'>\text</span><span class='textcolor-387f38'>{</span>if<span class='textcolor-387f38'>} </span><span class='textcolor-2838af'>\hspace</span><span class='textcolor-387f38'>{</span>10pt<span class='textcolor-387f38'>}</span> i=n 
<a id='x4-23019r6'></a><span class='textcolor-2838af'>\end</span><span class='textcolor-387f38'>{</span>align*<span class='textcolor-387f38'>}</span> 
<a id='x4-23021r7'></a><span class='textcolor-2838af'>\end</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span></pre>
                                                                  

                                                                  

</figure>
<!--  l. 127  --><p class='indent'>   This file includes the <code class='texttt'>mymmacros.tex</code>, which contains a definition of the <span class='textbf'><code class='texttt'>\myspace</code></span>
command:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb47'><a id='x4-23024r1'></a><span class='textcolor-2838af'>\newcommand\myspace</span><span class='textcolor-387f38'>{</span><span class='textcolor-2838af'>\quad</span><span class='textcolor-387f38'>}</span></pre>

</figure>
<!--  l. 133  --><p class='indent'>   This file can be included for MathJax using this configuration file:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb48'><a id='x4-23030r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-23032r2'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>MathJaxMacros<span class='textcolor-387f38'>}{</span>mymacros.tex<span class='textcolor-387f38'>}</span> 
<a id='x4-23034r3'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-23036r4'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>

</figure>
<!--  l. 146  --><p class='noindent'><span class='paragraphHead' id='custom-environments-in-mathjax'><a id='x4-24000'></a><span class='ec-lmbx-10'>Custom environments in MathJax.</span></span>
<a id='x4-24000doc'></a>   
If you want to add support for a new environment, you can use the <span class='obeylines-h'><code class='verb'>\VerbMath</code></span>
command, and you will also need to pass suitable configuration to MathJax. For
example for the following TeX file:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb49'><a id='x4-24013r1'></a><span class='textcolor-2838af'>\documentclass</span><span class='textcolor-387f38'>[12pt]{</span>book<span class='textcolor-387f38'>}</span> 
<a id='x4-24015r2'></a><span class='textcolor-2838af'>\usepackage</span><span class='textcolor-387f38'>{</span>amsmath<span class='textcolor-387f38'>}</span> 
<a id='x4-24017r3'></a><span class='textcolor-2838af'>\usepackage</span><span class='textcolor-387f38'>{</span>breqn<span class='textcolor-387f38'>}</span> 
<a id='x4-24019r4'></a> 
<a id='x4-24021r5'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-24023r6'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>dgroup*<span class='textcolor-387f38'>}</span> 
<a id='x4-24025r7'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>dmath*<span class='textcolor-387f38'>}</span> 
<a id='x4-24027r8'></a>     A = B 
<a id='x4-24029r9'></a>   <span class='textcolor-2838af'>\end</span><span class='textcolor-387f38'>{</span>dmath*<span class='textcolor-387f38'>}     </span><span class='textcolor-878787'><span class='textit'>%error is around here</span></span> 
<a id='x4-24031r10'></a><span class='textcolor-2838af'>\end</span><span class='textcolor-387f38'>{</span>dgroup*<span class='textcolor-387f38'>}</span> 
<a id='x4-24033r11'></a><span class='textcolor-2838af'>\end</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span></pre>

</figure>
<!--  l. 165  --><p class='indent'>   Can be configured using this configuration file:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb50'><a id='x4-24050r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-24052r2'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>MathJaxConfig<span class='textcolor-387f38'>}{{</span> 
<a id='x4-24054r3'></a>    tex: <span class='textcolor-387f38'>{</span> 
<a id='x4-24056r4'></a>      tags: "ams", 
<a id='x4-24058r5'></a>      <span class='textcolor-2838af'>\detokenize</span><span class='textcolor-387f38'>{</span><span class='textcolor-878787'><span class='textit'>%</span></span> 
<a id='x4-24060r6'></a>        environments: <span class='textcolor-387f38'>{</span> 
<a id='x4-24062r7'></a>          "dgroup*": ["", ""], 
<a id='x4-24064r8'></a>          "dmath*": ["", ""], 
<a id='x4-24066r9'></a>        <span class='textcolor-387f38'>}</span> 
<a id='x4-24068r10'></a>      <span class='textcolor-387f38'>}</span> 
<a id='x4-24070r11'></a>    <span class='textcolor-387f38'>}</span> 
<a id='x4-24072r12'></a><span class='textcolor-387f38'>}}</span> 
<a id='x4-24074r13'></a><span class='textcolor-2838af'>\VerbMath</span><span class='textcolor-387f38'>{</span>dgroup*<span class='textcolor-387f38'>}</span> 
<a id='x4-24076r14'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-24078r15'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>

</figure>
<!--  l. 185  --><p class='indent'>   The <span class='obeylines-h'><code class='verb'>\VerbMath</code></span> command can be used just for the <span class='obeylines-h'><code class='verb'>dgroup*</code></span> environment, as it will
pass the whole contents, including the <span class='obeylines-h'><code class='verb'>dgroup*</code></span> environment, to the HTML file. But
you will need to provide MathJax configuration for both of these environments, as
they are not supported by default.
</p><!--  l. 117  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='mathml'><span class='titlemark'>3.2.3   </span> <a id='x4-250003.2.3'></a>MathML</h4>
<!--  l. 120  --><p class='noindent'>You can get the MathML output in HTML using the <span class='emph'>mathml</span> option. In other
formats, such as JATS, or ODT, MathML is used automatically. The support for
MathML in web browsers is not great, so it usually better to load it together with
MathJax, using the <span class='emph'>mathml,mathjax</span> options:
                                                                  

                                                                  
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb51'><a id='x4-25003r1'></a>$ make4ht foo.tex <span class='textcolor-b73838'>"mathml,mathjax"</span></pre>

</figure>
<!--  l. 129  --><p class='indent'>   The advantage over MathJax’s LaTeX mode is that <code class='texttt'>TeX4ht</code> expands
custom commands in the MathML mode, also cross-referencing should work
better.
</p><!--  l. 132  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='subscripts-and-superscripts'><span class='titlemark'>3.2.4   </span> <a id='x4-260003.2.4'></a>Subscripts and superscripts</h4>
<!--  l. 4  --><p class='noindent'>Subscript and superscript support in <code class='texttt'>TeX4ht</code> is a bit complicated. The catcodes of <code class='texttt'>_</code>
and <code class='texttt'>^</code> characters are changed and they are active characters instead. This is
necessary in order to insert the markup tags for these structures. One consequence of
this is that you need to use a correct grouping for content that should be affected by
these operators. For example, instead of
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb52'><a id='x4-26003r1'></a><span class='textcolor-b73838'>$</span><span class='textcolor-387f38'>A_</span><span class='textcolor-af3f3f'>\mathit</span><span class='textcolor-387f38'>{...}</span><span class='textcolor-b73838'>$</span></pre>

</figure>
<!--  l. 15  --><p class='indent'>   use the following, with added group around the <code class='texttt'>\mathit</code> command:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb53'><a id='x4-26006r1'></a><span class='textcolor-b73838'>$</span><span class='textcolor-387f38'>A_{</span><span class='textcolor-af3f3f'>\mathit</span><span class='textcolor-387f38'>{...}}</span><span class='textcolor-b73838'>$</span></pre>

</figure>
<!--  l. 21  --><p class='indent'>   If you define custom commands in the document preamble, use <code class='texttt'>\sp</code> and <code class='texttt'>\sb</code>
instead of <code class='texttt'>^</code> and <code class='texttt'>_</code>.
</p><!--  l. 24  --><p class='indent'>   For example:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb54'><a id='x4-26009r1'></a><span class='textcolor-2838af'>\newcommand </span><span class='textcolor-2838af'>\coeffX</span> [4][X]<span class='textcolor-387f38'>{</span><span class='textcolor-2838af'>\mathbf</span><span class='textcolor-387f38'>{</span>#1<span class='textcolor-387f38'>}_{{</span>#2<span class='textcolor-387f38'>}</span>,<span class='textcolor-387f38'>{</span>#3<span class='textcolor-387f38'>}}</span>(#4)<span class='textcolor-387f38'>}</span></pre>

</figure>
<!--  l. 30  --><p class='indent'>   should become:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb55'><a id='x4-26012r1'></a><span class='textcolor-2838af'>\newcommand\coeffX</span> [4][X]<span class='textcolor-387f38'>{{</span><span class='textcolor-2838af'>\mathbf</span><span class='textcolor-387f38'>{</span>#1<span class='textcolor-387f38'>}}</span><span class='textcolor-2838af'>\sb</span><span class='textcolor-387f38'>{</span>#2,#3<span class='textcolor-387f38'>}</span>(#4)<span class='textcolor-387f38'>}</span></pre>
                                                                  

                                                                  

</figure>
<!--  l. 36  --><p class='indent'>   Sometimes, it is not possible to change the source files. In this situation, you can
pre-process the source using custom script that reads the original file, fixes the code
and then pipes the modified output to <code class='texttt'>make4ht</code>.
</p><!--  l. 40  --><p class='indent'>   For example, you may want to change this input:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb56'><a id='x4-26015r1'></a><span class='textcolor-b73838'>$</span><span class='textcolor-387f38'>k'^</span><span class='textcolor-444444'>4</span><span class='textcolor-387f38'>_{i}</span><span class='textcolor-b73838'>$</span></pre>

</figure>
<!--  l. 46  --><p class='indent'>   to the correct form:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb57'><a id='x4-26018r1'></a><span class='textcolor-b73838'>$</span><span class='textcolor-387f38'>k^{</span><span class='textcolor-af3f3f'>\prime</span><span class='textcolor-387f38'> </span><span class='textcolor-444444'>4</span><span class='textcolor-387f38'>}_{i}</span><span class='textcolor-b73838'>$</span></pre>

</figure>
<!--  l. 52  --><p class='indent'>   This, and other common issues, can be done using the following Lua
script:
</p>   
<figure class='luasource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb58'><a id='x4-26033r1'></a><span class='textcolor-2838af'>for</span> line <span class='textcolor-2838af'>in </span><span class='textcolor-387f38'>io.lines</span><span class='textcolor-878787'>() </span><span class='textcolor-2838af'>do</span> 
<a id='x4-26035r2'></a>  <span class='textcolor-878787'><span class='textit'>-- fix primes</span></span> 
<a id='x4-26037r3'></a>  line <span class='textcolor-656565'>=</span> line<span class='textcolor-878787'>:</span>gsub<span class='textcolor-878787'>(</span><span class='textcolor-b73838'>[[%'%^(.-)%_]]</span><span class='textcolor-878787'>, </span><span class='textcolor-b73838'>[[^{\prime %1}_]]</span><span class='textcolor-878787'>)</span> 
<a id='x4-26039r4'></a>  <span class='textcolor-878787'><span class='textit'>-- fix \mathrm{hello}^2</span></span> 
<a id='x4-26041r5'></a>  line <span class='textcolor-656565'>=</span> line<span class='textcolor-878787'>:</span>gsub<span class='textcolor-878787'>(</span><span class='textcolor-b73838'>[[(\[a-zA-Z]-)(%b{})([%^%_])]]</span><span class='textcolor-878787'>, </span><span class='textcolor-b73838'>[[{%1%2}%3]]</span><span class='textcolor-878787'>)</span> 
<a id='x4-26043r6'></a>  <span class='textcolor-878787'><span class='textit'>-- fix x_\mathrm{hello}</span></span> 
<a id='x4-26045r7'></a>  line <span class='textcolor-656565'>=</span> line<span class='textcolor-878787'>:</span>gsub<span class='textcolor-878787'>(</span><span class='textcolor-b73838'>[[([%_%^])(\[a-zA-Z]-)(%b{})]]</span><span class='textcolor-878787'>, </span><span class='textcolor-b73838'>"%1{%2%3}"</span><span class='textcolor-878787'>)</span> 
<a id='x4-26047r8'></a>  <span class='textcolor-878787'><span class='textit'>-- fix 10^2</span></span> 
<a id='x4-26049r9'></a>  line <span class='textcolor-656565'>=</span> line<span class='textcolor-878787'>:</span>gsub<span class='textcolor-878787'>(</span><span class='textcolor-b73838'>"([%d])([%_%^])"</span><span class='textcolor-878787'>, </span><span class='textcolor-b73838'>"{%1}%2"</span><span class='textcolor-878787'>)</span> 
<a id='x4-26051r10'></a>  <span class='textcolor-878787'><span class='textit'>-- fix {}_x</span></span> 
<a id='x4-26053r11'></a>  line <span class='textcolor-656565'>=</span> line<span class='textcolor-878787'>:</span>gsub<span class='textcolor-878787'>(</span><span class='textcolor-b73838'>"{}([%_%^])"</span><span class='textcolor-878787'>, </span><span class='textcolor-b73838'>"{</span><span class='textcolor-708e30'>\\</span><span class='textcolor-b73838'>HCode{}}%1"</span><span class='textcolor-878787'>)</span> 
<a id='x4-26055r12'></a>  <span class='textcolor-387f38'>print</span><span class='textcolor-878787'>(</span>line<span class='textcolor-878787'>)</span> 
<a id='x4-26057r13'></a><span class='textcolor-2838af'>end</span></pre>

</figure>
<!--  l. 70  --><p class='indent'>   It uses Lua version of regular expressions to find the code we want to fix. The
command to execute it could be:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb59'><a id='x4-26060r1'></a>texlua filter.lua &lt; sample.tex <span class='textcolor-878787'>|</span> make4ht -j sample - <span class='textcolor-b73838'>"mathml,mathjax"</span></pre>

</figure>
<!--  l. 77  --><p class='indent'>   The <code class='texttt'>-j</code> option is used to name the output file, which is necessary because the
input comes from a pipe. The dash used in the place of filename tells <code class='texttt'>make4ht</code> to read
input from the standard input.
</p><!--  l. 81  --><p class='indent'>   We use <code class='texttt'>MathJax</code> to render <code class='texttt'>MathML</code>, as <code class='texttt'>MathML</code> is not supported by all
browsers.
</p>   
<h4 class='subsectionHead' id='mathjax-node'><span class='titlemark'>3.2.5   </span> <a id='x4-270003.2.5'></a>MathJax Node</h4>
<!--  l. 137  --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='graphics'><span class='titlemark'>3.3   </span> <a id='x4-280003.3'></a>Graphics</h3>
                                                                  

                                                                  
<!--  l. 138  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='include-graphics-svgpdf'><span class='titlemark'>3.3.1   </span> <a id='x4-290003.3.1'></a>Include graphics (svg,pdf)</h4>
<!--  l. 139  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='change-image-size-and-resolution'><span class='titlemark'>3.3.2   </span> <a id='x4-300003.3.2'></a>Change image size and resolution</h4>
<!--  l. 1  --><p class='noindent'>You can use <code class='texttt'>\Configure{Gin-dim}</code> command to change the way how image
dimensions are calculated. By default, <code class='texttt'>TeX4ht</code> relies on information about image
dimensions provided by the Graphics package. If you use explicit dimensions
(like <code class='texttt'>width=0.5\textwidth</code>), the actual dimension calculated by TeX is
used.
</p><!--  l. 6  --><p class='indent'>   One problem is that if you set only one dimension, for example width, the
other dimension will be set to the same value. You usually don’t want this,
unless your image is a square. To get the correct value for all dimensions,
Graphics uses a <span class='obeylines-h'><code class='verb'>.xbb</code></span> file for image. It can be created using the following
command:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb60'><a id='x4-30003r1'></a>ebb -x *.jpg</pre>

</figure>
<!--  l. 15  --><p class='indent'>   Run analogous command for every other supported image format you
use. This will ensure that correct values are used for implicitly calculated
dimensions.
</p><!--  l. 18  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='use-relative-size-for-images'><span class='titlemark'>3.3.3   </span> <a id='x4-310003.3.3'></a>Use relative size for images</h4>
<!--  l. 20  --><p class='noindent'>The following configuration file example can be used to get image dimensions relative
to the original page width. Thanks to the LaTeX 3 project, we can use the <code class='texttt'>l3fp</code>
package to calculate the image dimensions in percents.
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb61'><a id='x4-31011r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-31013r2'></a><span class='textcolor-2838af'>\makeatletter</span> 
<a id='x4-31015r3'></a><span class='textcolor-2838af'>\ExplSyntaxOn</span> 
<a id='x4-31017r4'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>Gin-dim<span class='textcolor-387f38'>}</span> 
<a id='x4-31019r5'></a><span class='textcolor-387f38'>{</span>style="width:<span class='textcolor-2838af'>\fp</span><span class='textcolor-387f38'>_</span>eval:n<span class='textcolor-387f38'>{</span>round(<span class='textcolor-2838af'>\Gin</span>@req@width/<span class='textcolor-2838af'>\textwidth*</span>100,2)<span class='textcolor-387f38'>}</span><span class='textcolor-2838af'>\%</span>"<span class='textcolor-387f38'>}</span> 
<a id='x4-31021r6'></a><span class='textcolor-2838af'>\ExplSyntaxOff</span> 
<a id='x4-31023r7'></a><span class='textcolor-2838af'>\makeatother</span> 
<a id='x4-31025r8'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-31027r9'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>

</figure>
<!--  l. 36  --><p class='indent'>   In this configuration, we divide the image width passed to <code class='texttt'>\includegraphics</code> by
the document text width. This portion is then multiplied and rounded to get the
correct percent value. The calculated value is used in the <span class='obeylines-h'><code class='verb'>style</code></span> attribute of the
generated <span class='obeylines-h'><code class='verb'>&lt;img&gt;</code></span> element. The <code class='texttt'>l3fp</code> command <code class='texttt'>\fp_eval:n</code> is used for the calculation.
LaTeX 3 is part of LaTeX kernel, so we don’t need to require packages that it
provides.
                                                                  

                                                                  
</p><!--  l. 43  --><p class='indent'>   The following example code:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb62'><a id='x4-31030r1'></a><span class='textcolor-2838af'>\includegraphics</span><span class='textcolor-387f38'>[width=0.5\textwidth]{</span>example-image.png<span class='textcolor-387f38'>}</span></pre>

</figure>
<!--  l. 49  --><p class='indent'>   produces following HTML code:
</p>   
<figure class='htmlsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb63'><a id='x4-31033r1'></a><span class='textcolor-878787'>&lt;</span><span class='textcolor-2838af'>img </span><span class='textcolor-387f38'>style</span><span class='textcolor-656565'>=</span><span class='textcolor-b73838'>'width:50%' </span><span class='textcolor-387f38'>alt</span><span class='textcolor-656565'>=</span><span class='textcolor-b73838'>'PIC' </span><span class='textcolor-387f38'>src</span><span class='textcolor-656565'>=</span><span class='textcolor-b73838'>'example-image.png' </span><span class='textcolor-878787'>/&gt;</span></pre>

</figure>
<!--  l. 55  --><p class='indent'>   To disable setting of the image dimensions in HTML code completely use the
following configuration:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb64'><a id='x4-31043r1'></a><span class='textcolor-2838af'>\Preamble</span><span class='textcolor-387f38'>{</span>xhtml<span class='textcolor-387f38'>}</span> 
<a id='x4-31045r2'></a><span class='textcolor-2838af'>\Configure</span><span class='textcolor-387f38'>{</span>Gin-dim<span class='textcolor-387f38'>}{}</span> 
<a id='x4-31047r3'></a><span class='textcolor-2838af'>\Css</span><span class='textcolor-387f38'>{</span>img <span class='textcolor-387f38'>{</span> 
<a id='x4-31049r4'></a>    max-width: 100<span class='textcolor-2838af'>\%</span>; 
<a id='x4-31051r5'></a>    height: auto; 
<a id='x4-31053r6'></a><span class='textcolor-387f38'>}}</span> 
<a id='x4-31055r7'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-31057r8'></a><span class='textcolor-2838af'>\EndPreamble</span></pre>

</figure>
<!--  l. 69  --><p class='indent'>   This configuration uses CSS to set the maximum image dimension. This ensures
that the image is donwsized on devices smaller than is the actual image
size.
</p><!--  l. 73  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='change-images-alternative-text'><span class='titlemark'>3.3.4   </span> <a id='x4-320003.3.4'></a>Change image’s alternative text</h4>
<!--  l. 75  --><p class='noindent'>The <code class='texttt'>Graphicx</code> package recently added alternative text support, which can be used to
describe the image. This is necessary for the accessibility purposes.
</p><!--  l. 79  --><p class='indent'>   If you use an older system, without support for this attribute, you can use the
following example to define it yourself, and use it with the <code class='texttt'>\includegraphics</code>
command. The attribute is named <code class='texttt'>alt</code>. Here is a sample file that shows how to do
that:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb65'><a id='x4-32002r1'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\documentclass</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>article</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span> 
<a id='x4-32004r2'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\usepackage</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>graphicx</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span> 
<a id='x4-32006r3'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\makeatletter</span></span> 
<a id='x4-32008r4'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\define</span></span><span class='rm-lmtt-10'>@key</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>Gin</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}{</span></span><span class='rm-lmtt-10'>alt</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}{}</span></span> 
<a id='x4-32010r5'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\makeatother</span></span> 
<a id='x4-32012r6'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\begin</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>document</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span> 
<a id='x4-32014r7'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\includegraphics</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>[alt={alt tags, information}]</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>example-image</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span> 
<a id='x4-32016r8'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\end</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>document</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span></pre>
</figure>
<!--  l. 86  --><p class='indent'>   The <code class='texttt'>\define@key{Gin}{alt}{}</code> command defines a dummy command that is
used by regular LaTeX. We need to redefine this key for <code class='texttt'>TeX4ht</code>, so it uses the
configuration that can specify the image alternative text, <code class='texttt'>GraphicsAlt</code>.
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb66'><a id='x4-32018r1'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\Preamble</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>xhtml</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span> 
<a id='x4-32020r2'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\makeatletter</span></span> 
<a id='x4-32022r3'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\define</span></span><span class='rm-lmtt-10'>@key</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>Gin</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}{</span></span><span class='rm-lmtt-10'>alt</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}{</span></span><span class='textcolor-2838af'><span class='rm-lmtt-10'>\Configure</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>GraphicsAlt</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}{</span></span><span class='rm-lmtt-10'>#1</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}}</span></span> 
<a id='x4-32024r4'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\makeatother</span></span> 
<a id='x4-32026r5'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\begin</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>document</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span> 
<a id='x4-32028r6'></a><span class='textcolor-2838af'><span class='rm-lmtt-10'>\EndPreamble</span></span></pre>
                                                                  

                                                                  
</figure>
<!--  l. 92  --><p class='indent'>   The resulting HTML file now contains image with the <code class='texttt'>alt</code> attribute:
</p>   
<figure class='htmlsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb67'><a id='x4-32030r1'></a><span class='textcolor-878787'><span class='textit'>&lt;!--  l. 7  --&gt;</span></span><span class='textcolor-878787'><span class='rm-lmtt-10'>&lt;</span></span><span class='textcolor-2838af'><span class='rm-lmtt-10'>p</span></span> <span class='textcolor-387f38'><span class='rm-lmtt-10'>class</span></span><span class='textcolor-656565'><span class='rm-lmtt-10'>=</span></span><span class='textcolor-b73838'><span class='ts1-lmtt10-'>'</span><span class='rm-lmtt-10'>noindent</span><span class='ts1-lmtt10-'>'</span></span><span class='textcolor-878787'><span class='rm-lmtt-10'>&gt;&lt;</span></span><span class='textcolor-2838af'><span class='rm-lmtt-10'>img</span></span> <span class='textcolor-387f38'><span class='rm-lmtt-10'>alt</span></span><span class='textcolor-656565'><span class='rm-lmtt-10'>=</span></span><span class='textcolor-b73838'><span class='ts1-lmtt10-'>'</span><span class='rm-lmtt-10'>alt tags, information</span><span class='ts1-lmtt10-'>'</span></span> <span class='textcolor-387f38'><span class='rm-lmtt-10'>src</span></span><span class='textcolor-656565'><span class='rm-lmtt-10'>=</span></span><span class='textcolor-b73838'><span class='ts1-lmtt10-'>'</span><span class='rm-lmtt-10'>example-image.png</span><span class='ts1-lmtt10-'>'</span></span> <span class='textcolor-878787'><span class='rm-lmtt-10'>/&gt;</span></span> 
<a id='x4-32032r2'></a><span class='textcolor-878787'><span class='rm-lmtt-10'>&lt;/</span></span><span class='textcolor-2838af'><span class='rm-lmtt-10'>p</span></span><span class='textcolor-878787'><span class='rm-lmtt-10'>&gt;</span></span></pre>
</figure>
<!--  l. 142  --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='plain-tex'><span class='titlemark'>3.4   </span> <a id='x4-330003.4'></a>Plain TeX</h3>
<!--  l. 1  --><p class='noindent'><code class='texttt'>TeX4ht</code> supports Plain TeX, but it can be a bit tricky. In general, you will have to
provide configurations to get good markup for your custom commands. You will also
need to add few commands to your source file:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb68'><a id='x4-33007r1'></a><span class='textcolor-878787'><span class='textit'>%!TEX TS-program = tex</span></span> 
<a id='x4-33009r2'></a><span class='textcolor-2838af'>\input</span> plain-4ht.tex 
<a id='x4-33011r3'></a><span class='textcolor-2838af'>\document</span> 
<a id='x4-33013r4'></a>Hello world 
<a id='x4-33015r5'></a><span class='textcolor-2838af'>\enddocument</span></pre>

</figure>
<!--  l. 13  --><p class='indent'>   The first line contains magic comment that tells <code class='texttt'>make4ht</code> to use Plain
TeX instead of LaTeXfor the compilation. <code class='texttt'>\document</code> and <code class='texttt'>\enddocument</code>
commands are important, because they are crucial for correct execution of
<code class='texttt'>TeX4ht</code>.
</p><!--  l. 17  --><p class='indent'>   They are declared in the <code class='texttt'>plain-4ht.tex</code> file:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb69'><a id='x4-33022r1'></a><span class='textcolor-2838af'>\def\documentstyle</span>#1<span class='textcolor-387f38'>{}</span> 
<a id='x4-33024r2'></a><span class='textcolor-2838af'>\documentstyle</span><span class='textcolor-387f38'>{</span>tex4ht<span class='textcolor-387f38'>}</span> 
<a id='x4-33026r3'></a><span class='textcolor-2838af'>\csname</span> tex4ht<span class='textcolor-2838af'>\endcsname</span> 
<a id='x4-33028r4'></a><span class='textcolor-2838af'>\def\document</span><span class='textcolor-387f38'>{}</span> 
<a id='x4-33030r5'></a><span class='textcolor-2838af'>\def\enddocument</span><span class='textcolor-387f38'>{</span><span class='textcolor-2838af'>\csname</span> bye<span class='textcolor-2838af'>\endcsname</span><span class='textcolor-387f38'>}</span></pre>

</figure>
<!--  l. 27  --><p class='indent'>   In the PDF mode, these commands will do nothing, except for execution of the
<code class='texttt'>\bye</code> command.
</p><!--  l. 29  --><p class='indent'>   The document can be compiled using:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb70'><a id='x4-33033r1'></a>make4ht -f html5+detect_engine filename.tex</pre>

</figure>
<!--  l. 35  --><p class='indent'>   The <span class='obeylines-h'><code class='verb'>-f html5+detect_engine</code></span> requires the <span class='obeylines-h'><code class='verb'>detect_engine</code></span> extension, which uses
the magic command in the source file to determine which TeX engine to use. It is
necessary for the correct Plain TeX support.
                                                                  

                                                                  
</p><!--  l. 146  --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='blogging'><span class='titlemark'>3.5   </span> <a id='x4-340003.5'></a>Blogging</h3>
<!--  l. 148  --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='work-with-external-commands'><span class='titlemark'>3.6   </span> <a id='x4-350003.6'></a>Work with external commands</h3>
<!--  l. 149  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='indexing'><span class='titlemark'>3.6.1   </span> <a id='x4-360003.6.1'></a>Indexing</h4>
<!--  l. 152  --><p class='noindent'><code class='texttt'>make4ht</code> supports Makeindex, Xindy and Xindex indexing processors. You need to
use a build file that calls them explicitly. The intermediate file with indexing
information uses special format with <code class='texttt'>TeX4ht</code>, so it is not possible to just call these
commands from the command line. <code class='texttt'>make4ht</code> uses some pre-processing and
post-processing to make the indexing work correctly.
</p><!--  l. 159  --><p class='indent'>   Here is a simple example:
</p>   
<figure class='texsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb71'><a id='x4-36009r1'></a><span class='textcolor-2838af'>\documentclass</span><span class='textcolor-387f38'>{</span>article<span class='textcolor-387f38'>}</span> 
<a id='x4-36011r2'></a><span class='textcolor-2838af'>\usepackage</span><span class='textcolor-387f38'>{</span>makeidx<span class='textcolor-387f38'>}</span> 
<a id='x4-36013r3'></a><span class='textcolor-2838af'>\makeindex</span> 
<a id='x4-36015r4'></a><span class='textcolor-2838af'>\begin</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span> 
<a id='x4-36017r5'></a>Hello<span class='textcolor-2838af'>\index</span><span class='textcolor-387f38'>{</span>hello<span class='textcolor-387f38'>}</span> world<span class='textcolor-2838af'>\index</span><span class='textcolor-387f38'>{</span>world<span class='textcolor-387f38'>}</span> 
<a id='x4-36019r6'></a><span class='textcolor-2838af'>\printindex</span> 
<a id='x4-36021r7'></a><span class='textcolor-2838af'>\end</span><span class='textcolor-387f38'>{</span>document<span class='textcolor-387f38'>}</span></pre>

</figure>
<!--  l. 171  --><p class='indent'>   This file can be compiled using the following build file, <code class='texttt'>build.lua</code>:
</p>   
<figure class='luasource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb72'><a id='x4-36026r1'></a>Make<span class='textcolor-878787'>:</span>htlatex <span class='textcolor-878787'>{}</span> 
<a id='x4-36028r2'></a>Make<span class='textcolor-878787'>:</span>makeindex <span class='textcolor-878787'>{}</span> 
<a id='x4-36030r3'></a>Make<span class='textcolor-878787'>:</span>htlatex<span class='textcolor-878787'>{}</span></pre>

</figure>
<!--  l. 179  --><p class='indent'>   You can use <span class='obeylines-h'><code class='verb'>Make:xindex</code></span> or <span class='obeylines-h'><code class='verb'>Make:xindy</code></span> in place of <span class='obeylines-h'><code class='verb'>Make:makeindex</code></span>.
</p><!--  l. 181  --><p class='indent'>   As there are no page numbers in XML and HTML, each <span class='textbf'><code class='texttt'>\index</code></span> command
produces unique number, and destination to the backlink from the index.
</p><!--  l. 185  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='bibliographies'><span class='titlemark'>3.6.2   </span> <a id='x4-370003.6.2'></a>Bibliographies</h4>
<!--  l. 187  --><p class='noindent'>You can use either <span class='obeylines-h'><code class='verb'>Make:bibtex</code></span> or <span class='obeylines-h'><code class='verb'>Make:biber</code></span> in a build file to compile your
bibliography. The following build file is meant for use with BibLaTeX.
</p>   
<figure class='luasource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb73'><a id='x4-37010r1'></a><span class='textcolor-2838af'>if</span> mode<span class='textcolor-656565'>==</span><span class='textcolor-b73838'>"draft" </span><span class='textcolor-2838af'>then</span> 
<a id='x4-37012r2'></a>  Make<span class='textcolor-878787'>:</span>htlatex <span class='textcolor-878787'>{}</span> 
<a id='x4-37014r3'></a><span class='textcolor-2838af'>else</span> 
<a id='x4-37016r4'></a>  Make<span class='textcolor-878787'>:</span>htlatex <span class='textcolor-878787'>{}</span> 
<a id='x4-37018r5'></a>  Make<span class='textcolor-878787'>:</span>biber <span class='textcolor-878787'>{}</span> 
<a id='x4-37020r6'></a>  Make<span class='textcolor-878787'>:</span>htlatex<span class='textcolor-878787'>{}</span> 
<a id='x4-37022r7'></a>  Make<span class='textcolor-878787'>:</span>htlatex<span class='textcolor-878787'>{}</span> 
<a id='x4-37024r8'></a><span class='textcolor-2838af'>end</span></pre>
                                                                  

                                                                  

</figure>
<!--  l. 201  --><p class='indent'>   This build file also supports the <span class='obeylines-h'><code class='verb'>draft</code></span> mode for faster compilation. Use this
command when you add a new citation:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb74'><a id='x4-37027r1'></a>$ make4ht filename.tex</pre>

</figure>
<!--  l. 208  --><p class='indent'>   In other cases, when you just added normal text, you can compile the file faster
using the draft mode:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb75'><a id='x4-37030r1'></a>$ make4ht -m draft filename.tex</pre>

</figure>
<!--  l. 215  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='r'><span class='titlemark'>3.6.3   </span> <a id='x4-380003.6.3'></a>R</h4>
<!--  l. 217  --><p class='noindent'>The <span class='obeylines-h'><code class='verb'>preprocess_input</code></span> <code class='texttt'>make4ht</code> extension supports
</p><!--  l. 219  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='markdown'><span class='titlemark'>3.6.4   </span> <a id='x4-390003.6.4'></a>Markdown</h4>
<!--  l. 220  --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='pythontex'><span class='titlemark'>3.6.5   </span> <a id='x4-400003.6.5'></a>PythonTeX</h4>
                                                                  

                                                                  
<nav class='crosslinks-bottom'>[<a href='BasicTutorial.html'>prev</a>] [<a href='tex4ht-doc.html#Howto.html'>up</a>] [<a href='CallingCommands.html'>next</a>] </nav>   </main><p><script data-goatcounter='https://kodymirus.goatcounter.com/count' src='/js/libs/goatcounter.js'></script> 
 
</p></body> 
</html>