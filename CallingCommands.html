<!DOCTYPE html> 
<html lang='en-US' xml:lang='en-US'> 
<head><title>4 Calling Commands</title> 
<meta charset='utf-8' /> 
<meta content='TeX4ht (https://tug.org/tex4ht/)' name='generator' /> 
<meta content='width=device-width,initial-scale=1' name='viewport' /> 
<link href='tex4ht-doc.css' rel='stylesheet' type='text/css' /> 
<meta content='tex4ht-doc.tex' name='src' /> 
<link href='style.css' rel='stylesheet' type='text/css' /> 
</head><body>
<nav class='TOC'>   
<span class='chapterToc'>1 <a href='Introduction.html#introduction'>Introduction</a></span>

<span class='chapterToc'>2 <a href='BasicTutorial.html#basic-tutorial'>Basic Tutorial</a></span>







<span class='chapterToc'>3 <a href='Howto.html#how-to'>How to</a></span>






















<span class='chapterToc'>4 <a href='#calling-commands'>Calling Commands</a></span>
<span class='sectionToc'>4.1 <a href='#-makeht-build-system'><code class='texttt'>make4ht</code> Build System</a></span>
<span class='sectionToc'>4.2 <a href='#-makeht-switches-and-options'><code class='texttt'>make4ht</code> Switches and Options</a></span>
<span class='subsectionToc'>4.2.1 <a href='#tex-engine'>TeX engine</a></span>
<span class='subsectionToc'>4.2.2 <a href='#terminal-output'>Terminal Output</a></span>
<span class='subsectionToc'>4.2.3 <a href='#output-directory'>Output Directory</a></span>
<span class='sectionToc'>4.3 <a href='#overview-of-the-translation-process'>Overview of the Translation Process</a></span>
<span class='subsectionToc'>4.3.1 <a href='#makeht-extensions'>make4ht extensions</a></span>
<span class='chapterToc'>5 <a href='OutputFormats.html#output-formats'>Output Formats</a></span>
<span class='chapterToc'>6 <a href='texfourhtOptions.html#-texht-options1'><code class='texttt'>TeX4ht</code> Options</a></span>

                                                                  

                                                                  

<span class='chapterToc'>7 <a href='Configurations.html#configurations2'>Configurations</a></span>











































<span class='chapterToc'>8 <a href='Make4htBuildFiles.html#makeht-build-files'>Make4ht Build Files</a></span>
                                                                  

                                                                  



<span class='chapterToc'>9 <a href='FAQandTroubleshooting.html#faq-and-troubleshooting'>FAQ and Troubleshooting</a></span>





<span class='chapterToc'>10 <a href='ForDevelopers.html#for-developers'>For Developers</a></span>










<span class='chapterToc'>11 <a href='Glossary.html#glossary'>Glossary</a></span>
<span class='chapterToc'>12 <a href='Bibliography.html#bibliography'>Bibliography</a></span>
<span class='chapterToc'>13 <a href='Index.html#index'>Index</a></span>
<span class='chapterToc'>14 <a href='Changes.html#changes'>Changes</a></span>
 
   
</nav> 
<main class='main-content'> 
<nav class='crosslinks-top'> [<a href='Howto.html'>prev</a>] [<a href='tex4ht-doc.html#CallingCommands.html'>up</a>] [<a href='OutputFormats.html'>next</a>] </nav> 
<h2 class='chapterHead' id='calling-commands'><span class='titlemark'>Chapter 4</span><br /><a id='x5-340004'></a>Calling Commands</h2>
The conversion process used by <code class='texttt'>TeX4ht</code> involves several tools (see section <a href='#overview-of-the-translation-process'>4.3<!-- tex4ht:ref: sec:overview  --></a>,
<a href='#overview-of-the-translation-process'>Overview of the Translation Process<!-- tex4ht:ref: sec:overview  --></a> for details).
<!-- l. 5 --><p class='indent'>   We provide a build script, called <code class='texttt'>make4ht</code>, which simplifies the process. There is
also a variant of <code class='texttt'>make4ht</code>, <code class='texttt'>tex4ebook</code> for e-book production. See the chapter <a href='OutputFormats.html#output-formats'>Output
Formats<!-- tex4ht:ref: sec:output-formats  --></a> for more information on output formats.
</p>   
<h3 class='sectionHead' id='-makeht-build-system'><span class='titlemark'>4.1   </span> <a id='x5-350004.1'></a><code class='texttt'>make4ht</code> Build System</h3>
<!-- l. 14 --><p class='noindent'>The conversion command loads a script which takes on itself to invoke the different
steps of the process, without user intervention. The command assumes the
form:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb59'><a id='x5-35003r1'></a>make4ht <span class='textcolor-656565'>[</span>make4ht options<span class='textcolor-656565'>]</span> filename.tex <span class='textcolor-b73838'>"options1" </span><span class='textcolor-b73838'>"option2" </span><span class='textcolor-b73838'>"options3" </span><span class='textcolor-b73838'>"options4"</span></pre>

</figure>
                                                                  

                                                                  
<!-- l. 22 --><p class='indent'>   The first set of options is for the <code class='texttt'>tex4ht.sty</code> and *.4ht style files, the second set
is for the <code class='texttt'>tex4ht</code> post-processor, the third for the <code class='texttt'>t4ht</code> post-processor, and the last
one is for the LaTeX compiler.
</p><!-- l. 26 --><p class='indent'>   These options are optional.
</p><!-- l. 28 --><p class='indent'>   The basic invokation of make4ht looks like this:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb60'><a id='x5-35006r1'></a>make4ht filename.tex</pre>

</figure>
<!-- l. 34 --><p class='indent'>   This command requests a translation according to the default conditions, which
are set to produce HTML 5 document.
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb61'><a id='x5-35009r1'></a>make4ht filename.tex <span class='textcolor-b73838'>"2,info"</span></pre>

</figure>
<!-- l. 40 --><p class='indent'>   This command specifies some options for tex4ht.sty. The "2" option requests a
break up of the output into separate web pages, in accordance to the two top
sectioning levels of the document.
</p><!-- l. 44 --><p class='indent'>   The <code class='texttt'>info</code> option requests inclusion of documentation of basic configurations to
the <code class='texttt'>filename.log</code> file. You can open this file using a text editor to read this
information.
</p><!-- l. 47 --><p class='indent'>   Information about additional options can be found in the <a href='texfourhtOptions.html#list-of-options'>List of options<!-- tex4ht:ref: sec:texfouhtoptions  --></a>
section.
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb62'><a id='x5-35012r1'></a>make4ht -c foo.cfg filename <span class='textcolor-b73838'>"frames" </span><span class='textcolor-b73838'>"" </span><span class='textcolor-b73838'>"-p"</span></pre>

</figure>
<!-- l. 55 --><p class='indent'>   This command requests LaTeX to load a <a href='Configurations.html#private-configuration-files'>Private Configuration Files<!-- tex4ht:ref: sec:private-configuration  --></a>,
named foo.cfg, using the <code class='texttt'>-c</code> make4ht option. The <code class='texttt'>frames</code> option requires
placing of the content and table of contents in separate frames. In addition, it
asks the <code class='texttt'>t4ht</code> command not to produce bitmaps for pictures using the <code class='texttt'>-p</code>
option.
</p><!-- l. 60 --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='-makeht-switches-and-options'><span class='titlemark'>4.2   </span> <a id='x5-360004.2'></a><code class='texttt'>make4ht</code> Switches and Options</h3>
<!-- l. 62 --><p class='noindent'><code class='texttt'>make4ht</code> accepts following command line switches and options:
                                                                  

                                                                  
</p>   
<figure class='textsource' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb63'><a id='x5-36018r1'></a>-a,--loglevel (default status) Set log level. 
<a id='x5-36020r2'></a>possible values: debug, info, status, warning, error, fatal 
<a id='x5-36022r3'></a>-b,--backend (default tex4ht) Backend used for xml generation. 
<a id='x5-36024r4'></a>possible values: tex4ht or lua4ht 
<a id='x5-36026r5'></a>-c,--config (default xhtml) Custom config file 
<a id='x5-36028r6'></a>-d,--output-dir (default nil)  Output directory 
<a id='x5-36030r7'></a>-e,--build-file (default nil)  If build file is different than `filename`.mk4 
<a id='x5-36032r8'></a>-f,--format  (default html5)  Output file format 
<a id='x5-36034r9'></a>-h,--help  Display this message 
<a id='x5-36036r10'></a>-j,--jobname (default nil)  Set the jobname 
<a id='x5-36038r11'></a>-l,--lua  Use lualatex for document compilation 
<a id='x5-36040r12'></a>-m,--mode (default default) Switch which can be used in the makefile 
<a id='x5-36042r13'></a>-n,--no-tex4ht Disable dvi file processing with the tex4ht command 
<a id='x5-36044r14'></a>-s,--shell-escape Enables running external programs from LaTeX 
<a id='x5-36046r15'></a>-v,--version  Display version number 
<a id='x5-36048r16'></a>-x,--xetex Use xelatex for document compilation</pre>

</figure>
<!-- l. 83 --><p class='indent'>   You can either use the long form <code class='texttt'>--mode</code>, or the short form <code class='texttt'>-m</code>. Short options can
be chained:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb64'><a id='x5-36051r1'></a>$ make4ht -lsm draft filename.tex</pre>

</figure>
<!-- l. 90 --><p class='indent'>   The above command is equvalent to the following that uses the long
names:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb65'><a id='x5-36054r1'></a>$ make4ht --lua --shell-escape --mode draft filename.tex</pre>

</figure>
<!-- l. 96 --><p class='indent'>   Some of these options are discussed in other chapters, see section <a href='Configurations.html#private-configuration-files'>Private
Configuration Files<!-- tex4ht:ref: sec:private-configuration  --></a> for details on configuration files requested using the <code class='texttt'>-c</code> option,
and section <a href='Make4htBuildFiles.html#makeht-build-files'>Make4ht Build Files<!-- tex4ht:ref: sec:make4ht-build-files  --></a> for details on build files requested using the <code class='texttt'>-e</code>
option.
</p><!-- l. 101 --><p class='indent'>   Supported output formats are described in the chapter <a href='OutputFormats.html#output-formats'>Output Formats<!-- tex4ht:ref: sec:output-formats  --></a>. They
can be requested using the <code class='texttt'>-f</code> option. This option also supports extensions. This
feature has been shown in the section <a href='BasicTutorial.html#basic-usage'>Basic Usage<!-- tex4ht:ref: sec:tutorial-basic-usage  --></a> of the tutorial.
</p><!-- l. 104 --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='tex-engine'><span class='titlemark'>4.2.1   </span> <a id='x5-370004.2.1'></a>TeX engine</h4>
<!-- l. 106 --><p class='noindent'><code class='texttt'>make4ht</code> uses TeX compiler to produce a DVI file. Normally, it uses PDFTeX engine,
but you can also select LuaTeX or XeTeX, using the <code class='texttt'>-l</code> or <code class='texttt'>-x</code> switches.
</p><!-- l. 109 --><p class='indent'>   The selected engine is important especially for handling of accented and
non-Latin characters. While <code class='texttt'>TeX4ht</code> doesn’t support OpenType fonts, it can emulate
the Fontspec package, so it supports documents that use it. With LuaTeX backend,
<code class='texttt'>TeX4ht</code> should support all Unicode characters. With XeTeX, it needs special
instructions to load non-Latin character support. See <a href='Configurations.html#unicode'>Unicode<!-- tex4ht:ref: sec:unicode  --></a> section for more
details.
                                                                  

                                                                  
</p><!-- l. 115 --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='terminal-output'><span class='titlemark'>4.2.2   </span> <a id='x5-380004.2.2'></a>Terminal Output</h4>
<!-- l. 117 --><p class='noindent'><code class='texttt'>make4ht</code> hides the terminal output by default. It shows only errors and warnings. It
doesn’t always show the correct error context. In such cases, try the <code class='texttt'>-a debug</code>
option. It is also recommended to use output of this option for TeX4ht bug
reports.
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb66'><a id='x5-38003r1'></a>$ make4ht -a debug -m draft buggy.tex</pre>

</figure>
<!-- l. 126 --><p class='noindent'>
</p>   
<h4 class='subsectionHead' id='output-directory'><span class='titlemark'>4.2.3   </span> <a id='x5-390004.2.3'></a>Output Directory</h4>
<!-- l. 128 --><p class='noindent'>To copy generated files to a different directoy, use the <code class='texttt'>-d path</code> option. The passed
path can be absolute or relative to the current directory. It also doesn’t need to exist,
<code class='texttt'>make4ht</code> will create it if necessary.
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb67'><a id='x5-39003r1'></a>$ make4ht -d outdir filename.tex</pre>

</figure>
<!-- l. 136 --><p class='indent'>   Note that this option doesn’t remove any files from the current directory. If you
want to remove the temporary files, use the <code class='texttt'>-m clean</code> option:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb68'><a id='x5-39006r1'></a>$ make4ht -m clean filename.tex</pre>

</figure>
<!-- l. 144 --><p class='noindent'>
</p>   
<h3 class='sectionHead' id='overview-of-the-translation-process'><span class='titlemark'>4.3   </span> <a id='x5-400004.3'></a>Overview of the Translation Process</h3>
<!-- l. 147 --><p class='noindent'>The translation of a LaTeX source file into HTML involves loading of the <code class='texttt'>tex4ht.sty</code>
package. It watches loaded packages, and loads corresponding configuration files, named
as <code>  <span class='rm-lmtt-10'>&lt;pkgname&gt;.4ht</span>
</code>. These configuration files patches commands provided by the packages, and
                                                                  

                                                                  
insert special hooks, which are later filled with XML code for the output
format.
</p><!-- l. 153 --><p class='indent'>   To ensure that all packages are processed, <code class='texttt'>tex4ht.sty</code> needs to be loaded early, ideally
before <code>  <span class='textcolor-2838af'><span class='rm-lmtt-10'>\documentclass</span></span>
</code>.
</p><!-- l. 156 --><p class='indent'>   Result of the LaTeX run is a DVI file that contain document text and special
instructions with XML code, or with requests for pictures. This file is then processed
by the <code class='texttt'>tex4ht</code> command. It generates the output XML or HTML files and the IDV
file, which is then used for pictures.
</p><!-- l. 162 --><p class='indent'>   The last command is <code class='texttt'>t4ht</code>. It generates pictures and CSS file.
</p><!-- l. 164 --><p class='indent'>   Basic sequence of execution of these command is following:
</p>   
<figure class='shellcommand' role='doc-example'>
<pre class='fancyvrb' id='fancyvrb69'><a id='x5-40009r1'></a>latex      x            <span class='textcolor-656565'>(</span>or ‘tex x’<span class='textcolor-656565'>)</span> 
<a id='x5-40011r2'></a>latex      x 
<a id='x5-40013r3'></a>latex      x 
<a id='x5-40015r4'></a>tex4ht     x 
<a id='x5-40017r5'></a>t4ht       x</pre>

</figure>
<!-- l. 174 --><p class='indent'>   The three compilations with La(TeX) are needed to ensure proper links. The
approach is illustrated in the picture <a href='#-texht-process-overview'>4.1<!-- tex4ht:ref: fig:process  --></a>.
</p>   
<figure class='figure' id='-texht-process-overview'> 

                                                                  

                                                                  
<a id='x5-40018r1'></a>
                                                                  

                                                                  
<!-- l. 177 --><p class='noindent'><img alt='PIC' src='images/tex4ht_process/tex4ht_process.svg' style='width:100%' />
</p>
<figcaption class='caption'><span class='id'>Figure 4.1: </span><span class='content'><code class='texttt'>TeX4ht</code> process overview</span></figcaption><!-- tex4ht:label?: x5-40018r1  -->
                                                                  

                                                                  
</figure>     
<dl class='description'><dt class='description'>
<!-- l. 183 --><p class='noindent'>
<span class='ec-lmbx-10'>x.tex</span> 
</p>
</dt><dd class='description'>
<!-- l. 183 --><p class='noindent'>     
</p>
<!-- l. 185 --><p class='noindent'>This is a source TeX/LaTeX/OtherTeX file that imports the style files
tex4ht.sty and *.4ht. The style files define the features for the output.
</p>     
</dd>
<dt class='description'>
<!-- l. 187 --><p class='noindent'>
<span class='ec-lmbx-10'>tex4ht</span> 
</p>
</dt><dd class='description'>
<!-- l. 187 --><p class='noindent'>     
</p>
<!-- l. 189 --><p class='noindent'>The  output  of  TeX  is  a  standard  dvi  file  interleaved  with  special
instructions for the postprocessor <code class='texttt'>tex4ht</code> to use. The special instructions
come from implicit and explicit requests made in the source file through
commands of <code class='texttt'>TeX4ht</code>.
</p>     
<!-- l. 194 --><p class='noindent'>The utility tex4ht translates the dvi code into standard text, while obeying
the requests it gets from the special instructions. The special instructions
may  request  the  creation  of  files,  insertion  of  html  code,  filtering  of
pictures, and so forth.
</p>     
<!-- l. 199 --><p class='noindent'>In the extreme case that the source code contains no commands of TeX4ht,
it  gets  the  pure  dvi  code  and  it  outputs  (almost)  plain  text  with  no
hypertext elements in it.
</p>     
<!-- l. 203 --><p class='noindent'>The special (<code>  <span class='textcolor-2838af'><span class='rm-lmtt-10'>\special</span></span>
</code>) instructions seeded in the DVI code are not understood by dvi processors
other than those of TeX4ht.
</p>     
</dd>
<dt class='description'>
<!-- l. 206 --><p class='noindent'>
<span class='ec-lmbx-10'>x.idv</span> 
</p>
</dt><dd class='description'>
<!-- l. 206 --><p class='noindent'>     
</p>
<!-- l. 208 --><p class='noindent'>This is a dvi file extracted from x.dvi, and it contains the pictures needed
in the html files.
</p>     
</dd>
<dt class='description'>
<!-- l. 211 --><p class='noindent'>
<span class='ec-lmbx-10'>x.lg</span> 
</p>
</dt><dd class='description'>
<!-- l. 211 --><p class='noindent'>
                                                                  

                                                                  
</p>     
<!-- l. 213 --><p class='noindent'>This is a log file listing the pictures of x.idv, the png files that should
be created, CSS information, and user directives introduced through the
‘<code>  <span class='textcolor-2838af'><span class='rm-lmtt-10'>\Needs</span></span><span class='textcolor-387f38'><span class='rm-lmtt-10'>{</span></span><span class='rm-lmtt-10'>...</span><span class='textcolor-387f38'><span class='rm-lmtt-10'>}</span></span>
</code>’ command.
</p>     
</dd>
<dt class='description'>
<!-- l. 217 --><p class='noindent'>
<span class='ec-lmbx-10'>t4ht</span> 
</p>
</dt><dd class='description'>
<!-- l. 217 --><p class='noindent'>This is an interpreter for executing the requests made in the x.lg script.
</p>     
</dd></dl>
<h4 class='subsectionHead' id='makeht-extensions'><span class='titlemark'>4.3.1   </span> <a id='x5-410004.3.1'></a>make4ht extensions</h4>
                                                                  

                                                                  
<nav class='crosslinks-bottom'>[<a href='Howto.html'>prev</a>] [<a href='tex4ht-doc.html#CallingCommands.html'>up</a>] [<a href='OutputFormats.html'>next</a>] </nav>   </main><p><script data-goatcounter='https://kodymirus.goatcounter.com/count' src='/js/libs/goatcounter.js'></script></p> 
 
</body> 
</html>